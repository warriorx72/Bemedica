<!DOCTYPE html  >
<html xmlns:th="http://www.thymeLeaf.org">

<head>
<meta charset="UTF-8">

<title th:text="${titulo}"></title>

<!-- Bootstrap CSS CDN -->
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css"
	integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4"
	crossorigin="anonymous">
<!-- Our Custom CSS -->
<link rel="stylesheet" href="http://localhost:8090/css/style.css">

<!-- Font Awesome JS -->
<script defer
	src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js"
	integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ"
	crossorigin="anonymous"></script>
<script defer
	src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js"
	integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY"
	crossorigin="anonymous"></script>



</head>

<body>

	<div class="wrapper">

		<!-- Page Content  -->
		<div id="content">
			<div class="accordion" id="accordionExample"
				style="user-select: none;">
				<div class="card">
					<div class="card-header" id="headingOne">
						<h2 class="mb-0 form-row" style="font-size: 20px;">Datos del
							paciente</h2>
					</div>

					<div id="collapseOne" class="collapse show"
						aria-labelledby="headingOne" data-parent="#accordionExample">

						<div class="input-group mb-0 form-control-sm"
							th:each="p: ${paciente}">
							<div class="form-group col-md-3">
								<label class="col-form-label-sm mb-0">ID Paciente:</label> <input
									type="text" th:value="${p[0]}"
									class="form-control form-control-sm" readonly />
							</div>
							<div class="form-group col-md-3">
								<label class="col-form-label-sm mb-0">Nombre:</label> <input
									type="text" th:value="${p[1]}"
									class="form-control form-control-sm" readonly />
							</div>
							<div class="form-group col-md-3">
								<label class="col-form-label-sm mb-0">Años:</label> <input
									type="text" th:value="${p[2]}"
									class="form-control form-control-sm" readonly />
							</div>
							<div class="form-group col-md-3">
								<label class="col-form-label-sm mb-0">Meses:</label> <input
									type="text" th:value="${p[3]}"
									class="form-control form-control-sm" readonly />
							</div>
						</div>

					</div>

					<div class="input-group mb-0 form-control-sm"
						th:each="p: ${paciente}">
						<div class="form-group col-md-3">
							<label class="col-form-label-sm mb-0">Sexo:</label> <input
								type="text" th:value="${p[4]}"
								class="form-control form-control-sm" readonly />
						</div>
						<div class="form-group col-md-3">
							<label class="col-form-label-sm mb-0">Fecha Orden:</label> <input
								type="text" th:value="${p[5]}"
								class="form-control form-control-sm" readonly />
						</div>
						<div class="form-group col-md-3">
							<label class="col-form-label-sm mb-0">Medico:</label> <input
								type="text" th:value="${p[7]}"
								class="form-control form-control-sm" readonly />
						</div>

					</div>

				</div>


			</div>




			<div class="card">
				<div class="card-header" id="headingOne">
					<h2 class="mb-0 form-row" style="font-size: 20px;">Estudios
						Solicitados</h2>
				</div>

				<div class="card-body">
					<!--Inicia código de tabla-->

					<div class="col-sm-12">
						<div class="card mb-3">

							<div class="card-header">
								<div class="table-responsive">
									<table class="table table-bordered" id="dataTable" width="100%"
										cellspacing="0">
										<thead>
											<tr class="table-primary">
												<th>ID Captura</th>
												<th>Estudio</th>
												<th>Captura</th>
											</tr>
										</thead>
										<tbody>
											<tr th:each="l: ${lineas}">
												<td><a class="text-primary"
													th:href="@{/agregar_resultado/}+${l[0]}+'/'+${l[7]}+'/'+${l[8]}+'/'+${l[4]}"
													th:text="${l[1]+'-'+l[4]}"> </a></td>
												<td th:text="${l[8]+' '+ l[3]}"></td>
												<td th:text="${l[6]}"></td>
											</tr>
										</tbody>
									</table>
									<!--Termina código de tabla-->
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>


			<div class="card">
				<div class="card-header" id="headingOne">
					<h2 class="mb-0 form-row" style="font-size: 20px;">Captura de
						Resultados</h2>
				</div>

				<div class="card-body">
					<!--Inicia código de tabla-->

					<div class="col-sm-12">
						<div class="card mb-3">

							<div class="card-header">
								<div class="table-responsive">

									<table class="table table-bordered" id="dataTable" width="100%"
										cellspacing="0">
										<thead>
											<tr class="table-primary">
												<th>Nombre</th>
												<th>Resultado</th>
												<th>Comentarios</th>
												<th>Validar</th>

											</tr>
										</thead>
										<tbody>


											<tr th:each="r: ${resul}">
												<form th:action="@{/guardar_resultado_linea/}+${id}+'/'+${lo}"
													th:id="${r.ResultadoId}" th:name="${r.ResultadoId}"
													method="post" th:object="${aux}">
												<td th:text="${r.EstudioNombre}"></td>

												<td>
													<input name="ResultadoCuanti"
													th:if="${r.ResultadoCuali==null}" 
													th:value="${r.ResultadoCuanti}"
													required
													type="number"> 
													
													<input
													name="ResultadoCuali" th:if="${r.ResultadoCuanti == null}"
													th:value="${r.ResultadoCuali}"
													required
													type="text"></td>
												
												
												<td><input type="text" name="Comentario"
													th:value="${r.Comentario}" /></td>

												<td><input type="checkbox"
													th:if="${r.Validacion == '1'}" checked value="0"
													th:onclick="'post_form(' + ${r.ResultadoId} + ');'">

													<input type="checkbox" th:if="${r.Validacion == '0'}"
													value="1"
													th:onclick="'post_form(' + ${r.ResultadoId} + ');'">


												</td>


												<input type="hidden" name="ResultadoId"
													th:value="${r.ResultadoId}" />
												<input type="hidden" name="OrdenEstudioId"
													th:value="${r.OrdenEstudioId}" />
												<input type="hidden" name="estudio_id"
													th:value="${r.estudio_id}" />

												<input type="hidden" name="EstudioNombre"
													th:value="${r.EstudioNombre}" />

												</form>
											</tr>

										</tbody>
									</table>



									<!--Termina código de tabla-->
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>


		</div>



	</div>
	</div>

	</div>

	<!-- jQuery CDN - Slim version (=without AJAX) -->
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
		integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
		crossorigin="anonymous"></script>
	<!-- Popper.JS -->
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"
		integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ"
		crossorigin="anonymous"></script>
	<!-- Bootstrap JS -->
	<script
		src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"
		integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm"
		crossorigin="anonymous"></script>
	<!-- Demo scripts for this page-->
	<script src="js/demo/datatables-demo.js"></script>

	<!-- Page level plugin JavaScript-->
	<script src="vendor/datatables/jquery.dataTables.js"></script>
	<script src="vendor/datatables/dataTables.bootstrap4.js"></script>

	<!-- Page level plugins -->
	<script src="vendor/chart.js/Chart.min.js"></script>

	<!-- Page level custom scripts -->
	<script src="js/demo/chart-area-demo.js"></script>
	<script src="js/demo/chart-pie-demo.js"></script>
	<script src="js/demo/chart-bar-demo.js"></script>


	<script type="text/javascript">
        $(document).ready(function () {
            $('#sidebarCollapse').on('click', function () {
                $('#sidebar').toggleClass('active');
            });
        });
    </script>


	<script type="text/javascript">
  function post_form( id_form )
  {
    document.getElementById(id_form).submit();
  }
</script>

	<script>
		window.onload = function() {
			var pos = window.name || 0;
			window.scrollTo(0, pos);
		}
		window.onunload = function() {
			window.name = self.pageYOffset
					|| (document.documentElement.scrollTop + document.body.scrollTop);
		}
	</script>


</body>


</html>