<!DOCTYPE html >
<html xmlns:th="http://www.thymeLeaf.org">

<head>
<meta charset="UTF-8">

<title th:text="${titulo}"></title>

<!-- Bootstrap CSS CDN -->
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css"
	integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4"
	crossorigin="anonymous">
<!-- Our Custom CSS -->
<link rel="stylesheet" th:href="@{/css/style.css}">

<!-- Font Awesome JS -->
<script defer
	src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js"
	integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ"
	crossorigin="anonymous"></script>
<script defer
	src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js"
	integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY"
	crossorigin="anonymous"></script>

</head>

<body>
	<div>
		<img th:src="@{/img/banner.jpg}" 
	
			style="height: 80px; width: 100%;">
	</div>
	<div class="wrapper">
		<!-- Sidebar  -->
      <div th:include="navegacion.html" th:remove="tag">
      </div>
		<div id="content">
			<div class="accordion" id="accordionExample">
				<div class="card">
					<div
					th:classappend="'alert-' + (${clase != null} ? ${clase} : info)"
					th:if="${mensaje != null}" th:text="${mensaje}" class="alert">
				</div>
			
					<div class="card-header" id="headingOne">
						<h2 class="mb-0" style="font-size: 20px;">Información
							Convenio</h2>
					</div>
					
				
					<div id="collapseOne" class="collapse show"
						aria-labelledby="headingOne" data-parent="#accordionExample">
						<div class="card-body">

							<form th:action="@{/form_convenio_convenio}" th:object="${convenio}"
								method="post">
								<div class="form-row mb-0">
									<div class="form-group col-md-3">
										<label class="col-form-label-sm mb-0">Nombre</label> 
										<input
											type="text" th:field="*{ConvenioNombre}"
											class="form-control form-control-sm" required  />
									</div>
									<div class="form-group col-md-3">
										<label for="inputSexo" class="col-form-label-sm mb-0">Detalles</label>
										<input type="text" th:field="*{ConvenioDetalles}"
											class="form-control form-control-sm" required />
									</div>
									<div class="form-group col-md-3">
										<label for="inputFecha_nac" class="col-form-label-sm mb-0">Costo:</label>
										<input type="number" th:field="*{ConvenioCosto}"
											class="form-control form-control-sm"  required/>
									</div>
									<div class="form-group col-md-3">
										<label for="inputEmail" class="col-form-label-sm mb-0">Empresa</label>
										<select th:field="*{EmpresaId}" 
											class="form-control form-control-sm" required>
											<option value="">Seleccione una...</option>
											<option th:each="empresa: ${vistas}"
												th:value="${empresa.EmpresaId}"
												th:text="${empresa.EmpresaNombre}"></option>

										</select>
									</div>
								</div>
								<br>
								<div align="right">
									<input type="submit" class="btn btn-primary" value="Guardar" />
								</div>
								
								<input type="hidden" th:field="*{ConvenioId}" />
							</form>

							<!--Termina código de formulario-->
						</div>
					</div>
				</div>

				<div class="card">
				
				
					<div class="card-header" id="headingOne">
						<h2 class="mb-0" style="font-size: 20px;">Estudios que se
							integraran:</h2>
					</div>
					<div
					th:classappend="'alert-' + (${clase2 != null} ? ${clase2} : info)"
					th:if="${mensaje2 != null}" th:text="${mensaje2}" class="alert">
				</div>
					<div id="collapseOne" class="collapse show"
						aria-labelledby="headingOne" data-parent="#accordionExample">
						<div class="card-body">

							<form th:action="@{/form_convenio_estudios}" method="post" th:object="${ce}">
								<div class="form-row mb-0">
								
									<input type="hidden" th:field="*{ConvenioId}" />
								
									<div class="form-group col-md-4">
										<label for="inputEmail" class="col-form-label-sm mb-0">Estudio</label>
										<select  th:field="*{EstudioId}" required  class="form-control form-control-sm" th:errorclass="'form-control alert-danger'">
											<option value="">Seleccione uno...</option>
											
											<option th:each="estudio: ${vistasEstudio}"
												th:value="${estudio[1]}"
												th:text="${estudio[0]}">
											</option>

										</select>
									</div>
								</div>
								<br>




								
								<div align="right">
									<input type="submit" class="btn btn-primary" value="Guardar" th:disabled="${disableSecondButton}"/>
								</div>



							</form>
							
							
							<br>
							<table class="table table-bordered" id="dataTable">
								<thead>
									<tr class="table-primary">
										
										
										<th>Convenio</th>
										<th>Estudio</th>
										<th>Eliminar</th>
									
									</tr>
								</thead>
								<tbody>
										<tr th:each="convenioEstudio: ${vista_convenio_estudio}">
															
															<td th:text="${convenioEstudio.ConvenioNombre}"></td>
															<td th:text="${convenioEstudio.EstudioNombre}"></td>
															<td><a class="btn btn-danger btn-sm"
																th:href="@{/eliminar_ce/}+${convenioEstudio.CeId}+'/'+${convenioEstudio.ConvenioId}"
																onclick="return confirm ('¿Estas seguro que quieres eliminar?');">Borrar</a>
															</td>
					
														
														</tr>
								</tbody>

							</table>
							
							<div align="right">
										
										<a th:href="@{/precios_convenios}" class="btn btn-primary">Terminar</a>
									</div>

							<!--Termina código de formulario-->
						</div>
					</div>
				</div>





			</div>
		</div>




		<!-- jQuery CDN - Slim version (=without AJAX) -->
		<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
			integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
			crossorigin="anonymous"></script>
		<!-- Popper.JS -->
		<script
			src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"
			integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ"
			crossorigin="anonymous"></script>
		<!-- Bootstrap JS -->
		<script
			src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"
			integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm"
			crossorigin="anonymous"></script>

		<script type="text/javascript">
        $(document).ready(function () {
            $('#sidebarCollapse').on('click', function () {
                $('#sidebar').toggleClass('active');
            });
        });
    </script>
</body>

</html>
